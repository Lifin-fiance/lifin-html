<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mesin Waktu Finansial LIFIN (Akurat)</title>
  <link rel="icon" type="image/png" href="assets/images/fav.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@800&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Baloo 2', cursive; background-color: #04b3e3; }
          button, .button {
      transition: all 0.15s ease-in-out;
    }
    button:hover, .button:hover {
      transform: translateY(4px);
      box-shadow: none !important;
    }
    button:active, .button:active {
      transform: translateY(10px);
      box-shadow: none !important;
    }
    input::placeholder { color: #D6D6D6; }
    .fade-in { animation: fadeIn 0.5s ease-in-out; }
   
   
       .footer-link-animated {
      position: relative;
      font-family: 'Baloo 2', cursive;
      font-weight: 600; /* Semibold */
      color: rgba(255, 255, 255, 0.7); /* text-white/70 */
      text-decoration: none;
      transition: color 0.3s ease-in-out, font-weight 0.3s ease-in-out;
    }

    .footer-link-animated::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: -3px;
      left: 0;
      background-color: white;
      transition: width 0.3s ease-in-out;
    }

    .footer-link-animated:hover {
      color: white;
      font-weight: 700; /* Bold */
    }

    .footer-link-animated:hover::after {
      width: 100%;
    } @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  </style>
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-00CHWMXSV1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-00CHWMXSV1');
</script>

<body class="m-0 p-0 box-border overflow-x-hidden">

<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Header Lifin</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@800&family=Poppins:wght@700&display=swap" rel="stylesheet">
</head>

<body class="m-0 p-0 box-border pt-[90px]">

<header class="absolute top-0 left-0 w-full h-[90px] bg-white flex items-center justify-between px-6 lg:px-20 shadow-sm z-50" style="box-shadow: 0 3px 0px 0 rgba(4,179,227,0.2);">
  <div class="flex items-center">
      <img src="assets/images/icon.png" class="w-[90px] object-cover cursor-pointer" alt="logolifin" onclick="window.location.href='https://www.lifin.fun'">
    </div>
<button 
  onclick="goBackOrHome()" 
  class="bg-[#FF6B6B] text-white text-lg font-extrabold px-5 py-2 rounded-full font-['Baloo_2'] hover:opacity-90 transition-all duration-200" 
  style="box-shadow: 0 5px 0px 0 #d44f4f;">
  Back
</button>

<script>
  function goBackOrHome() {
    const homepage = "https://www.lifin.fun";

    // Jika ada riwayat sebelumnya DAN URL sebelumnya bukan halaman ini
    if (document.referrer && document.referrer !== window.location.href) {
      history.back();
    } else {
      // Kalau tidak ada riwayat, atau halaman sebelumnya sama -> langsung ke homepage
      window.location.href = homepage;
    }
  }
</script>

  </header>


</body>
</html>

  <!-- Konten Utama -->
  <main class="pt-[185px] lg:pt-[210px] sm:px-6">
    <img src="assets/images/mascotfin.png" class="absolute w-[300px] top-[90px] left-1/2 -translate-x-1/2 top-[-20px] lg:w-[400px] lg:top-[80px] z-[-1]" alt="Mascot Finny" onerror="this.onerror=null;this.src='https://placehold.co/400x400/04b3e3/ffffff?text=Finny';"/>
    <div class="relative w-full max-w-[1062px] h-auto bg-white rounded-[25px] mx-auto mb-16 lg:mb-[96px] py-6 lg:py-8">
      <div class="text-center font-['Baloo_2'] pt-0 lg:pt-[18px] text-[#04B3E3] text-3xl md:text-4xl lg:text-[40px] font-extrabold">MESIN WAKTU FINANSIAL</div>
      <div class="relative pb-[30px] w-11/12 lg:w-[906px] h-auto bg-[#04B3E3] rounded-[25px] mx-auto mt-10 lg:mt-[24px] p-6 lg:px-[77px] lg:pt-[28px] lg:pb-[36px]">
        <div class="flex flex-col lg:flex-row items-center gap-4 lg:gap-[16px] whitespace-nowrap">
          <div class="text-white text-xl lg:text-[24px] font-extrabold">Kalau aku nabung</div>
          <input id="nominal" type="number" placeholder="Rp100.000" class="w-full lg:w-[159px] h-[32px] rounded-full px-4 text-lg lg:text-[20px] font-extrabold font-['Baloo_2'] text-[#04B3E3] bg-white shadow-[0_5px_0_rgba(255,255,255,0.75)] outline-none"/>
          <div class="text-white text-xl lg:text-[24px] font-extrabold">tiap hari selama</div>
          <input id="durasi" type="text" placeholder="20 hari" class="w-full lg:w-[128px] h-[32px] rounded-full px-4 text-lg lg:text-[20px] font-extrabold font-['Baloo_2'] text-[#04B3E3] bg-white shadow-[0_5px_0_rgba(255,255,255,0.75)] outline-none"/>
        </div>
        <div class="text-center lg:text-left text-white text-xl lg:text-[24px] font-extrabold mt-4 lg:mt-0">bisa beli apa?</div>
        <button id="btnHitung" type="button" class="w-[155px] mt-6 lg:mt-0 absolute left-1/2 -translate-x-1/2 -bottom-5 lg:w-[218px] h-[43px] bg-white rounded-full shadow-[0_5px_0_#04B3E3] flex items-center justify-center text-[#04B3E3] font-extrabold text-2xl lg:text-[28px] transition-transform duration-200 hover:scale-105 active:scale-95">HITUNG</button>
      </div>
      <div class="h-14 lg:h-[45px]"></div>
      <div class="flex flex-col lg:flex-row justify-between gap-8 lg:gap-4 px-4 sm:px-8 lg:px-[77px]">
        <div class="w-full lg:w-[328px] h-auto min-h-[188px] bg-[#FF6B6B] rounded-[25px] p-4 flex flex-col  items-center">
          <div class="text-white text-[20px] lg:text-2xl font-bold font-['Poppins'] text-center">Total Tabungan</div>
          <div id="totalTabungan" class="text-white text-center font-['Poppins'] text-3xl font-bold pt-4 break-words">Rp0</div>
        </div>
        <div class="w-full lg:w-[546px] h-auto min-h-[188px] bg-[#FFD635] rounded-[22px] p-4">
          <div class="text-[#004B75] text-[20px] lg:text-2xl font-bold font-['Poppins'] text-center lg:pl-2">Rekomendasi Produk</div>
          <div id="produkList" class="text-[#004B75] font-['Poppins'] pt-2 pl-2 grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 pr-4 leading-snug"></div>
        </div>
      </div>
    </div>
  </main>

  <footer class="bg-[#04b3e3] text-white  pb-8 mt-auto relative overflow-hidden">
    <div class="relative z-10 w-full max-w-6xl mx-auto px-6 md:px-8">
      
      <!-- === START: GARIS DEKORATIF PUTIH === -->
      <!-- Elemen ini ditambahkan untuk membuat garis putih di atas konten footer. -->
      <!-- 'h-2' mengatur ketebalan, 'bg-white' memberinya warna, 'rounded-full' membuat sudutnya bulat, -->
      <!-- dan 'mb-12' memberikan jarak ke konten di bawahnya. -->
      <div class="h-[2px] w-full bg-white rounded-full mb-12"></div>
      <!-- === END: GARIS DEKORATIF PUTIH === -->

      <!-- Footer Links Grid -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10 lg:gap-8 text-center sm:text-left">
        
        <!-- Kolom Utama -->
        <div>
          <h4 class="text-xl font-extrabold mb-4 font-baloo">Utama</h4>
          <ul class="space-y-3">
            <li><a href="https://lifin.fun" class="text-lg footer-link-animated">Beranda</a></li>
            <li><a href="https://lifin.fun/berita.html" class="text-lg footer-link-animated">News</a></li>
            <li><a href="https://lifin.fun/help.html" class="text-lg footer-link-animated">FAQ</a></li>
          </ul>
        </div>

        <!-- Kolom Game -->
        <div>
          <h4 class="text-xl font-extrabold mb-4 font-baloo">Game</h4>
          <ul class="space-y-3">
            <li><a href="https://dompet-pintar/lifin.fun" class="text-lg footer-link-animated">Dompet Pintar</a></li>
            <li><a href="https://finance-quiz-race/lifin.fun" class="text-lg footer-link-animated">Finance Quiz Race</a></li>
            <li><a href="https://investor-cilik/lifin.fun" class="text-lg footer-link-animated">Investor Cilik</a></li>
          </ul>
        </div>

        <!-- Kolom Fitur -->
        <div>
          <h4 class="text-xl font-extrabold mb-4 font-baloo">Fitur</h4>
          <ul class="space-y-3">
            <li><a href="https://lifin.fun/fitur-kalkulator-keuangan.html" class="text-lg footer-link-animated">Kalkulator Keuangan</a></li>
            <li><a href="https://lifin.fun/fitur-mesin-waktu-finansial.html" class="text-lg footer-link-animated">Mesin Waktu Finansial</a></li>
          </ul>
        </div>

        <!-- Kolom Alamat / Temui Kami -->
        <div>
          <h4 class="text-xl font-extrabold mb-4 font-baloo">Temui Kami</h4>
          <a href="https://maps.app.goo.gl/RtiF4kpzXezkJ6rR8" target="_blank" rel="noopener noreferrer" class="text-lg leading-relaxed footer-link-animated">
            Jalan Tirto Sentono No.16, Landungsari, Kec. Dau, Kabupaten Malang, Jawa Timur 65151
          </a>
        </div>
      </div>

      <!-- Divider -->
      <div class="w-full border-t border-white/0 mt-12 mb-8"></div>

      <!-- Bottom Section: Socials and Legal -->
      <div class="flex flex-col md:flex-row justify-between items-center gap-8">
        
        <!-- Social Media Icons (Kiri) -->
        <div class="flex justify-center gap-3 lg:gap-4 order-1">
        <a href="https://www.linkedin.com/in/lifin-literasi-finansial-pelajar-4280b7368/" target="_blank" class="w-12 h-12 lg:w-[60px] lg:h-[60px] rounded-full bg-white flex items-center justify-center shadow-md transition-all duration-200 hover:-translate-y-[10px] hover:shadow-xl hover:bg-[#E8F4FD]">
            <img src="assets/images/linkedin.svg" alt="LinkedIn" class="w-6 h-6 lg:w-[32px] lg:h-[32px] object-contain" />
          </a>
          <a href="#" class="w-12 h-12 lg:w-[60px] lg:h-[60px] rounded-full bg-white flex items-center justify-center shadow-md transition-all duration-200 hover:-translate-y-[10px] hover:shadow-xl hover:bg-[#FDE8F4]">
            <img src="assets/images/ig.svg" alt="Instagram" class="w-6 h-6 lg:w-[32px] lg:h-[32px] object-contain" />
          </a>
          <a href="https://mail.google.com/mail/?view=cm&fs=1&to=lifin.website@gmail.com&su=HALO%20LIFIN!&body=Aku%20tertarik%20sama%20kamu%20dan%20punya%20saran%20yang%20menarik%20buat%20kamu" target="_blank" class="w-12 h-12 lg:w-[60px] lg:h-[60px] rounded-full bg-white flex items-center justify-center shadow-md transition-all duration-200 hover:-translate-y-[10px] hover:shadow-xl hover:bg-[#F4F8FB]">
            <img src="assets/images/gmail.svg" alt="Email" class="w-6 h-6 lg:w-[32px] lg:h-[32px] object-contain" />
          </a>
          <a href="#" class="w-12 h-12 lg:w-[60px] lg:h-[60px] rounded-full bg-white flex items-center justify-center shadow-md transition-all duration-200 hover:-translate-y-[10px] hover:shadow-xl hover:bg-[#F4F8FB]">
            <img src="assets/images/x.svg" alt="X Twitter" class="w-6 h-6 lg:w-[32px] lg:h-[32px] object-contain" />
          </a>
        </div>
        
        <!-- Copyright (Tengah) -->
        <div class="text-white/70 text-base font-medium order-2 md:order-2">
          &copy; 2025 LIFIN. All rights reserved.
        </div>
        
        <!-- Legal Links (Kanan) -->
        <div class="flex flex-col sm:flex-row gap-x-6 gap-y-2 order-3 md:order-3">
          <a href="https://lifin.fun/terms.html" class="text-lg footer-link-animated">Ketentuan Layanan</a>
          <a href="https://lifin.fun/privacy.html" class="text-lg footer-link-animated">Kebijakan Privasi</a>
        </div>
      </div>

    </div>
  </footer>

  <!-- PENTING: Impor file data harga sebelum script utama -->
  <script src="js/price_data.js"></script>

  <script>
  // --- Elemen UI ---
  const nominalInput = document.getElementById("nominal");
  const durasiInput = document.getElementById("durasi");
  const totalTabunganEl = document.getElementById("totalTabungan");
  const produkBox = document.getElementById("produkList");
  const btnHitung = document.getElementById("btnHitung");

  // --- Fungsi Helper ---
  function formatRupiah(angka) {
    return `Rp${angka.toLocaleString("id-ID")}`;
  }

  // --- Event Listener Utama ---
  btnHitung.addEventListener("click", () => {
    if (!nominalInput.value || !durasiInput.value) {
      alert("Harap isi nominal tabungan dan durasi menabung.");
      return;
    }

    const nominal = parseInt(nominalInput.value.replace(/\D/g, ""), 10);
    const hari = parseInt(durasiInput.value.replace(/\D/g, ""), 10);

    if (isNaN(nominal) || isNaN(hari) || nominal <= 0 || hari <= 0) {
      alert("Mohon masukkan angka yang valid (lebih besar dari 0).");
      return;
    }

    const total = nominal * hari;
    totalTabunganEl.textContent = formatRupiah(total);
    produkBox.innerHTML = ""; // Kosongkan hasil sebelumnya

    // --- LOGIKA BARU: Menggunakan Jendela Harga 25% ---
    
    // Tentukan batas harga minimum (75% dari total tabungan)
    const hargaMinimum = total * 0.75;
    
    // 1. Saring database untuk produk yang harganya ada di dalam rentang 75% - 100% dari budget.
    const produkTersedia = productDatabase.filter(
        item => item.estimasi_harga >= hargaMinimum && item.estimasi_harga <= total
    );

    if (produkTersedia.length > 0) {
      // 2. Acak urutan produk yang tersedia di dalam rentang tersebut agar hasilnya bervariasi.
      produkTersedia.sort(() => 0.5 - Math.random());
      
      // 3. Ambil maksimal 4 produk teratas untuk ditampilkan.
      const rekomendasi = produkTersedia.slice(0, 4);

      // 4. Tampilkan hasilnya ke layar.
      rekomendasi.forEach(item => {
        const div = document.createElement("div");
        div.className = "fade-in";
        div.innerHTML = `
          <span class="font-bold">${item.nama_produk}</span>
          <span class="block text-sm font-normal">${formatRupiah(item.estimasi_harga)}</span>
        `;
        produkBox.appendChild(div);
      });
    } else {
      // Jika tidak ada produk yang cocok dengan rentang budget.
      produkBox.innerHTML = "<div class='col-span-full text-center fade-in'>❌ Tidak ada rekomendasi di rentang harga ini. Coba nabung sedikit lagi!</div>";
    }
  });
</script>

</body>
</html>
